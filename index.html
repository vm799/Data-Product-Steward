<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>DP Architect: 100/100 Gold Medal Edition</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.39.0/build/stlite.css" />
    <style> .stApp { background-color: #f8f9fb; } </style>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.39.0/build/stlite.js"></script>
    <script>
      stlite.mount({
        requirements: ["pandas"],
        files: {
          "main.py": `
import streamlit as st
import pandas as pd
import json

# --- 100/100 DETERMINISTIC KNOWLEDGE BASE (2026 Standards) ---
DOMAIN_STEWARDS = {
    "Equities": {"lead": "Equity Data Desk", "email": "eq-data@firm.com", "licensing": "High"},
    "Fixed Income": {"lead": "FI Governance Team", "email": "fi-gov@firm.com", "licensing": "High"},
    "ESG / Sustainable": {"lead": "ESG Excellence Centre", "email": "esg-office@firm.com", "licensing": "Medium"},
    "Multi-Asset": {"lead": "Portfolio Solutions Group", "email": "psg-data@firm.com", "licensing": "Medium"},
    "Operations": {"lead": "Global Ops Stewardship", "email": "ops-stewards@firm.com", "licensing": "Low"}
}

REG_ENGINE = {
    "BCBS 239": {"lineage": "Attribute-Level (Mandatory)", "retention": "10 Years", "snowflake_tier": "Critical"},
    "DORA / Digital Resilience": {"lineage": "System-Level", "retention": "7 Years", "snowflake_tier": "High"},
    "SFDR (ESG)": {"lineage": "Source-to-Metric", "retention": "Permanent", "snowflake_tier": "Medium"},
    "None / Internal": {"lineage": "Table-Level", "retention": "3 Years", "snowflake_tier": "Standard"}
}

st.set_page_config(layout="wide", page_title="100/100 DP Architect")

# --- STATE MANAGEMENT ---
if 'step' not in st.session_state: st.session_state.step = "Qualify"
if 'data' not in st.session_state: st.session_state.data = {}

def go_to(next_step):
    st.session_state.step = next_step
    st.rerun()

# --- UI HEADER ---
st.title("ü•á The 100/100 Data Product Architect")
st.markdown("### Asset Management Governance Engine (2026 Compliance Standard)")

# --- SIDEBAR: THE LAYMAN'S TRANSLATOR ---
with st.sidebar:
    st.header("üìñ Layman's Help")
    if st.session_state.step == "Qualify":
        st.write("**What is a Data Product?** It's like a utility. If you need data once, don't build this. If the whole desk needs it daily, you need a Data Product.")
    elif st.session_state.step == "Govern":
        st.write("**MNPI:** If you know a trade is happening before it's public, that's MNPI. We must lock Snowflake tight for this.")
    st.divider()
    st.info("Status: " + st.session_state.step.upper())

# --- MAIN ENGINE STEPS ---
col1, col2 = st.columns([2, 1])

with col1:
    # STEP 1: QUALIFICATION & DOMAIN
    if st.session_state.step == "Qualify":
        st.header("1. Selection & Intent")
        domain = st.selectbox("Which Business Domain does this serve?", list(DOMAIN_STEWARDS.keys()))
        intent = st.radio("Primary Purpose", ["Alpha Generation", "Regulatory Reporting", "Operational Oversight"])
        
        if st.button("Proceed to Governance Lockdown"):
            st.session_state.data['domain'] = domain
            st.session_state.data['steward'] = DOMAIN_STEWARDS[domain]
            st.session_state.data['intent'] = intent
            go_to("Govern")

    # STEP 2: GOVERNANCE (LOCKDOWN)
    elif st.session_state.step == "Govern":
        st.header("2. Regulatory & Security Controls")
        reg = st.selectbox("Applicable Regulation", list(REG_ENGINE.keys()))
        security = st.multiselect("Data Classifications", ["PII (Client Info)", "MNPI (Inside Info)", "Market Data (Third Party)"])
        
        if st.button("Finalize Stewardship & Payload"):
            st.session_state.data['reg'] = reg
            st.session_state.data['security'] = security
            st.session_state.data['reg_specs'] = REG_ENGINE[reg]
            go_to("Finalize")

    # STEP 3: THE GOLD MEDAL OUTPUT
    elif st.session_state.step == "Finalize":
        st.success("Requirements Locked. No further iterations permitted for v1.0.")
        st.balloons()
        
        # DISPLAY CANVAS
        st.header("üíé Data Product Canvas v1.0")
        res = st.session_state.data
        
        st.subheader("Accountability (Stewardship)")
        st.info(f"**Assigned Steward:** {res['steward']['lead']} ({res['steward']['email']})")

        # GENERATE TECHNICAL PAYLOADS
        st.divider()
        st.subheader("üöÄ Target System Ingestion Payloads")
        
        payload = {
            "SNOWFLAKE": {
                "tags": {
                    "DATA_DOMAIN": res['domain'],
                    "SECURITY_CLASS": "SENSITIVE" if res['security'] else "INTERNAL",
                    "REG_SCOPE": res['reg'],
                    "MNPI_FLAG": "TRUE" if "MNPI (Inside Info)" in res['security'] else "FALSE"
                },
                "masking_policy": "TAG_BASED_PII_MASK" if "PII (Client Info)" in res['security'] else "NONE"
            },
            "COLLIBRA": {
                "Asset_Name": f"{res['domain']}_DP_v1",
                "Community": res['domain'],
                "Domain": "Data Products",
                "Steward": res['steward']['lead']
            },
            "SOLIDATUS": {
                "Lineage_Type": res['reg_specs']['lineage'],
                "Bi_Temporal": "Enabled" if "BCBS 239" in res['reg'] else "Standard"
            }
        }
        st.json(payload)
        
        if st.button("Reset Engine"):
            st.session_state.clear()
            st.rerun()

# --- LIVE PREVIEW COLUMN ---
with col2:
    st.markdown("#### üèóÔ∏è Live Canvas State")
    if st.session_state.data:
        st.write(st.session_state.data)
    else:
        st.write("Awaiting input...")
          `
        }
      }, document.getElementById("root"));
    </script>
  </body>
</html>



Sent from Yahoo Mail for iPhone





